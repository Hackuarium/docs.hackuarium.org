"use strict";(self.webpackChunkdocs_hackuarium_org=self.webpackChunkdocs_hackuarium_org||[]).push([[5161],{3905:function(e,t,r){r.d(t,{Zo:function(){return c},kt:function(){return h}});var o=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var u=o.createContext({}),s=function(e){var t=o.useContext(u),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},c=function(e){var t=s(e.components);return o.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,u=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(r),h=n,m=d["".concat(u,".").concat(h)]||d[h]||p[h]||i;return r?o.createElement(m,a(a({ref:t},c),{},{components:r})):o.createElement(m,a({ref:t},c))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,a=new Array(i);a[0]=d;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:n,a[1]=l;for(var s=2;s<i;s++)a[s]=r[s];return o.createElement.apply(null,a)}return o.createElement.apply(null,r)}d.displayName="MDXCreateElement"},9796:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return l},contentTitle:function(){return u},metadata:function(){return s},toc:function(){return c},default:function(){return d}});var o=r(7462),n=r(3366),i=(r(7294),r(3905)),a=["components"],l={sidebar_position:1},u="Installation",s={unversionedId:"bioreactor/platformio/platformio",id:"bioreactor/platformio/platformio",isDocsHomePage:!1,title:"Installation",description:"Cloning the project",source:"@site/docs/20_bioreactor/10_platformio/platformio.md",sourceDirName:"20_bioreactor/10_platformio",slug:"/bioreactor/platformio/platformio",permalink:"/docs/bioreactor/platformio/platformio",editUrl:"https://github.com/hackuarium/docs.hackuarium.org/edit/main/website/docs/20_bioreactor/10_platformio/platformio.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Goal of the project",permalink:"/docs/bioreactor"},next:{title:"Parameters",permalink:"/docs/bioreactor/platformio/parameters"}},c=[{value:"Cloning the project",id:"cloning-the-project",children:[{value:"Requirements",id:"requirements",children:[]}]},{value:"Installing the PlatformIO plugin",id:"installing-the-platformio-plugin",children:[]},{value:"Hardware support for Leonardo 8MHz = LilyPad Arduino USB",id:"hardware-support-for-leonardo-8mhz--lilypad-arduino-usb",children:[]},{value:"Using USBtiny",id:"using-usbtiny",children:[]},{value:"Libraries",id:"libraries",children:[]},{value:"That&#39;s it",id:"thats-it",children:[]}],p={toc:c};function d(e){var t=e.components,l=(0,n.Z)(e,a);return(0,i.kt)("wrapper",(0,o.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"installation"},"Installation"),(0,i.kt)("h2",{id:"cloning-the-project"},"Cloning the project"),(0,i.kt)("h3",{id:"requirements"},"Requirements"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Git (^2.25.1)"),(0,i.kt)("li",{parentName:"ol"},"Visual Studio Code (^1.61.2)")),(0,i.kt)("p",null,"You know with age we take some habits and it would be easier if you follow the same ones ..."),(0,i.kt)("p",null,"All our github projects are always in a folder called ",(0,i.kt)("inlineCode",{parentName:"p"},"git"),"\nwhich is at the first level of the ",(0,i.kt)("inlineCode",{parentName:"p"},"home")," directory. It is followed by the\nname of the github user/organisation and finally the project name."),(0,i.kt)("p",null,"So, to install the project from bash:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir -p ~/git/hackuarium/\ncd ~/git/hackuarium/\ngit clone https://github.com/Hackuarium/bioreactor-platformio.git\n")),(0,i.kt)("p",null,"The possibility to clone the project will require that you validate your public key\nin github!"),(0,i.kt)("h2",{id:"installing-the-platformio-plugin"},"Installing the PlatformIO plugin"),(0,i.kt)("p",null,"In VSCode you need to open ",(0,i.kt)("inlineCode",{parentName:"p"},"Extensions")," tab or press ",(0,i.kt)("inlineCode",{parentName:"p"},"(CTRL+Shift+X)"),", and search \xb4PlatformIO IDE\xb4 to install it:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"PlatformIO IDE",src:r(2178).Z})),(0,i.kt)("h2",{id:"hardware-support-for-leonardo-8mhz--lilypad-arduino-usb"},"Hardware support for Leonardo 8MHz = LilyPad Arduino USB"),(0,i.kt)("p",null,"The version ",(0,i.kt)("inlineCode",{parentName:"p"},"6.0.1")," of the bioreactor is operating at 8MHz/3V3 instead of the standard 16MHz/5V."),(0,i.kt)("p",null,"If you do any mistake and try flashing the bioreactor board as if it was a normal Leonardo, you will be able to flash the program but the USB port will not be recognized anymore afterwards. You will have to reflash the bootloader!!!"),(0,i.kt)("h2",{id:"using-usbtiny"},"Using USBtiny"),(0,i.kt)("p",null,"By default the last version of Fedora will only give you a USB readonly access and will prevent you from burning the board loader.\nIn order for the USBTiny to have r/w access you should add a USB rule:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'# UDEV rule for Arduino ISP R3 programmer board,\n# to prevent having to run Arduino IDE as root to get it to program.\n# Copy this file to /etc/udev/rules.d so\n\nSUBSYSTEMS=="usb", ATTRS{idVendor}=="1781", ATTRS{idProduct}=="0c9f", GROUP="plugdev", MODE="0666"\n')),(0,i.kt)("h2",{id:"libraries"},"Libraries"),(0,i.kt)("p",null,"In this project, we use many non standard libraries. By default the Arduino IDE\nwill look for them in ",(0,i.kt)("inlineCode",{parentName:"p"},"~/Arduino/libraries")),(0,i.kt)("p",null,"If you are using only our project it is easier to directly point this folder\nto the libraries that are present in the github."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"mkdir ~/Arduino/\nln -s ~/git/bioreactor/Bioreactor_v4/Arduino/libraries/ ~/Arduino/\n")),(0,i.kt)("p",null,"Warning: Time library update v1.5.0 change committed in BioMain including TimeLib.h instead of Time.h resolves bugs on OSX"),(0,i.kt)("h2",{id:"thats-it"},"That's it"),(0,i.kt)("p",null,"You should now be able to compile the project from the Arduino IDE.\nYou can now proceed with burning the bootloader using the Leonardo 8MHz newly created option and upload your code selecting the same Leonardo 8MHz in the list of available MCUs from the IDE. To do so, you must select the Leonardo 8MHz board under /Tools/Boards/ in the Arduino IDE or select the proper device during project creation in Eclipse. Note that the LCD board works with 16MHz/5V and must be flashed as a standard Leonardo board not a 8MHz one. You must also select the right board version when programming the board via USB !"),(0,i.kt)("h1",{id:"the-parameters"},"The parameters"),(0,i.kt)("p",null,"In order to control the bioreactor you should have a look at the description of the ",(0,i.kt)("a",{parentName:"p",href:"/docs/bioreactor/platformio/parameters"},"parameters"),"."))}d.isMDXComponent=!0},2178:function(e,t,r){t.Z=r.p+"assets/images/platformio-8bce1c8a046cf9f5945381579ec792ce.png"}}]);