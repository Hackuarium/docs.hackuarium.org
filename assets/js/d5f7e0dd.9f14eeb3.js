"use strict";(self.webpackChunkdocs_hackuarium_org=self.webpackChunkdocs_hackuarium_org||[]).push([[3716],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),u=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=u(e.components);return a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),c=u(n),m=r,h=c["".concat(p,".").concat(m)]||c[m]||d[m]||i;return n?a.createElement(h,l(l({ref:t},s),{},{components:n})):a.createElement(h,l({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var u=2;u<i;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},3909:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return p},metadata:function(){return u},toc:function(){return s},default:function(){return c}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),l=["components"],o={},p="Connecting the plate",u={unversionedId:"bioreactor/making/pid/index",id:"bioreactor/making/pid/index",isDocsHomePage:!1,title:"Connecting the plate",description:"The heating plate is a standard MK3 plate used in 3D printers. It is a square of 214mm of side.",source:"@site/docs/20_bioreactor/20_making/pid/index.md",sourceDirName:"20_bioreactor/20_making/pid",slug:"/bioreactor/making/pid/index",permalink:"/docs/bioreactor/making/pid/index",editUrl:"https://github.com/hackuarium/docs.hackuarium.org/edit/main/docs/20_bioreactor/20_making/pid/index.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Internal probe",permalink:"/docs/bioreactor/making/onewire/index"},next:{title:"Pin mapping",permalink:"/docs/bioreactor/making/pinMapping"}},s=[{value:"Limit values",id:"limit-values",children:[]},{value:"Enabling heating",id:"enabling-heating",children:[]},{value:"Disabling heating",id:"disabling-heating",children:[]}],d={toc:s};function c(e){var t=e.components,o=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"connecting-the-plate"},"Connecting the plate"),(0,i.kt)("p",null,"The heating plate is a standard MK3 plate used in 3D printers. It is a square of 214mm of side."),(0,i.kt)("p",null,"It is composed on 2 resistors of 2.4\u2126 and there are 2 ways to connect them:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"in serie : you have a resistor of 4.8\u2126 and this will be used to power in 24v"),(0,i.kt)("li",{parentName:"ul"},"in parallel : you have a resistor of 1.2\u2126 and this will be used when powerred in 12v")),(0,i.kt)("p",null,"In our case we will power the plate in 12v and we will connect them in parallel. See the picture for more information."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"connection.jpg",src:n(4920).Z})),(0,i.kt)("p",null,"It is also important to put 2 leds (just to be sure one of them turn on even if you power the plate in the opposite way)\nand a resistor of 1k\u2126 (10k\u2126 would give a much less bright light)."),(0,i.kt)("p",null,"This will allow to see when the plate is turned on. Nice to debug !"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"leds.jpg",src:n(5719).Z})),(0,i.kt)("p",null,"With a resistance of 1.2\u2126 in 12v we will need 10A. This is the limit of the powersuppy and it would be nice if\nwe don't use permanently full power."),(0,i.kt)("p",null,"Note that the Board is operating at 3V3 and the PID is powered in 12V. Thus the PowerFET used to deliver the required\ncurrent must be picked up carefully to have a low threshold voltage Vgs and a low Rds channel resistance at this\noperating 3v3 voltage. Good matches are provided ",(0,i.kt)("a",{parentName:"p",href:"http://www.mouser.ch/Semiconductors/Discrete-Semiconductors/Transistors/MOSFET/_/N-ax1sf?P=1z0yra8Z1z0y182Z1z0z7ptZ1yzxnagZ1yw76g4Z1yw76ckZ1yw76gb&Rl=ax1sfZgjdhsdZ1yjepp1Z1yjenlnSGTax1sfZgjdhp3Z1yw78huZ1y9kq41SGT&Keyword=MOSFET&OrgTerm=mosfet&FS=True&Ns=Pricing%7C0"},"here on Mouser"),"."),(0,i.kt)("p",null,"We have chosen the ",(0,i.kt)("a",{parentName:"p",href:"https://www.infineon.com/dgdl/Infineon-IPB80N03S4L-03-DataSheet-v02_01-EN.pdf?fileId=5546d4626cb27db2016ccd4c03921b4c"},"IPB80N03S4L-03")," for its steady Rds (3.4 mOhm max.) at low Vgs (Vgs(th) 1.6 V typ.) even for high currents (up to 80A)."),(0,i.kt)("h2",{id:"limit-values"},"Limit values"),(0,i.kt)("p",null,"In order to be able to heat the following conditions have to be met:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"PCB temperature probe (one-wire) must be working and the temperature must be between 10 and 70 \xb0C"),(0,i.kt)("li",{parentName:"ul"},"Liquid temperature probe (one-wire) must be connected and the temperature must be between 10 and 60 \xb0C")),(0,i.kt)("p",null,"The maximal power is 80% of full power that corresponds to around 8 A."),(0,i.kt)("p",null,"The following parameters are define in ",(0,i.kt)("em",{parentName:"p"},"PIDThread.cpp")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"SAFETY_MAX_PCB_TEMP 7000"),(0,i.kt)("li",{parentName:"ul"},"SAFETY_MIN_PCB_TEMP 1000"),(0,i.kt)("li",{parentName:"ul"},"SAFETY_MAX_LIQ_TEMP 6000"),(0,i.kt)("li",{parentName:"ul"},"SAFETY_MIN_LIQ_TEMP 1000"),(0,i.kt)("li",{parentName:"ul"},"PID_OUTPUT_LIMIT 200")),(0,i.kt)("h2",{id:"enabling-heating"},"Enabling heating"),(0,i.kt)("p",null,"In order to turn on the heating you should check the following parameters:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A - The liquid temperature on the top. It should be between 1000 and 6000 (10 \xb0C to 60 \xb0C)"),(0,i.kt)("li",{parentName:"ul"},"B - The liquid temperature on the bottom. It should be between 1000 and 6000 (10 \xb0C to 60 \xb0C)"),(0,i.kt)("li",{parentName:"ul"},"C - The temperature of the PCB (Printed Circuit Board). It should be between 1000 and 7000"),(0,i.kt)("li",{parentName:"ul"},"E - The target temperature. It should be between 1000 and 6000 (10 to 60\xb0C)"),(0,i.kt)("li",{parentName:"ul"},"FLAG_PID_CONTROL - The PARAM_STATUS bit FLAG_PID_CONTROL should be 1")),(0,i.kt)("p",null,"The heating will also depend of the status of the weight."),(0,i.kt)("h2",{id:"disabling-heating"},"Disabling heating"),(0,i.kt)("p",null,"Here are the important parameters:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"ID"),(0,i.kt)("th",{parentName:"tr",align:null},"P"),(0,i.kt)("th",{parentName:"tr",align:null},"NAME"),(0,i.kt)("th",{parentName:"tr",align:null},"DESCRIPTION"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"A"),(0,i.kt)("td",{parentName:"tr",align:null},"PARAM_TEMP_EXT1"),(0,i.kt)("td",{parentName:"tr",align:null},"Temperature of the solution (top)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"1"),(0,i.kt)("td",{parentName:"tr",align:null},"B"),(0,i.kt)("td",{parentName:"tr",align:null},"PARAM_TEMP_EXT2"),(0,i.kt)("td",{parentName:"tr",align:null},"Temperature of the solution (bottom)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"2"),(0,i.kt)("td",{parentName:"tr",align:null},"C"),(0,i.kt)("td",{parentName:"tr",align:null},"PARAM_TEMP_PCB"),(0,i.kt)("td",{parentName:"tr",align:null},"Temperature of the PCB")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"4"),(0,i.kt)("td",{parentName:"tr",align:null},"E"),(0,i.kt)("td",{parentName:"tr",align:null},"PARAM_TEMP_TARGET"),(0,i.kt)("td",{parentName:"tr",align:null},"Target temperature of the liquid (in \xb0C)")))),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"In order to disable heating just put at target temperature for the board of 0 (write in the console ",(0,i.kt)("inlineCode",{parentName:"p"},"E0")," and press ",(0,i.kt)("kbd",null,"Enter"),")."))))}c.isMDXComponent=!0},4920:function(e,t,n){t.Z=n.p+"assets/images/connection-33567ef0c6de0405f3968a1ceb261e53.jpg"},5719:function(e,t,n){t.Z=n.p+"assets/images/leds-0f1cf89d376e0253361674e078fe89bd.jpg"}}]);