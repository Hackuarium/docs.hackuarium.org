<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Hackuarium open-hardware documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Hackuarium open-hardware documentation Blog Atom Feed"><title data-react-helmet="true">Smart Slaves | Hackuarium open-hardware documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.hackuarium.org/docs/beemos/slaves"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Smart Slaves | Hackuarium open-hardware documentation"><meta data-react-helmet="true" name="description" content="A smart slave is an I2C slave that can be connected to a master board."><meta data-react-helmet="true" property="og:description" content="A smart slave is an I2C slave that can be connected to a master board."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.hackuarium.org/docs/beemos/slaves"><link data-react-helmet="true" rel="alternate" href="https://docs.hackuarium.org/docs/beemos/slaves" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.hackuarium.org/docs/beemos/slaves" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d6449401.css">
<link rel="preload" href="/assets/js/runtime~main.62db4082.js" as="script">
<link rel="preload" href="/assets/js/main.ee91ec1a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Hackuarium logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Hackuarium logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Hackuarium</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_MM2z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_s5VG searchBarLoadingRing_2jQk"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/intro">Hackuarium documentation</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Simple-Spectro</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Beemos</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/beemos">Beemos</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">bee-counter</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/beemos/slaves">Smart Slaves</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Bioreactor</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Incubator</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">pH meter</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Writing documentation</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Programming</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Smart Slaves</h1></header><p>A smart slave is an I2C slave that can be connected to a master board.
The slave will be usually be powered by the master board as well and may
receive 12V as well as anything between 3.6 and 6V. The idea is that
the slave will not get a regulated current and it could come from a
solar panel, a battery or a regulated power source.</p><p>Each slave will have a specific base I2C address that can be tuned
using the A0 and A1 jumper. By default it is the base address and you
may add repectively 1 or 2 by soldering A0 and A1.</p><p>The I2C bus should be free of any other devices. If some companents
are using the I2C bus a software I2C library should be installed.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="power-consumption"></a>Power consumption<a class="hash-link" href="#power-consumption" title="Direct link to heading">#</a></h2><p>The slave should be able to reach in sleep mode less than 25 ÂµA. This
means that all the devices should be powered from the CPU in order to
completely cut off the current.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="debugging"></a>Debugging<a class="hash-link" href="#debugging" title="Direct link to heading">#</a></h2><p>A slave must have currently a crystal in order to work with external
clock at 8MHz. This is not the default behaviour of the ATMEGA328 that
works on the internal clock. However it seems that the internal clock
is not precise enough (up to 5% error ?) and therefore USART communication
may be very difficult.</p><p>USART communication (RX and TX) is mainly used for development and this part
could be removed later.</p><p>This is also the reason for the presence of the FTDI port.</p><p>We could get rid of the FTDI and 8MHz crystal if we don&#x27;t need Serial communication
and we don&#x27;t need to debug the board anymore (i.e. for production).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="logo"></a>Logo<a class="hash-link" href="#logo" title="Direct link to heading">#</a></h2><p>The logo of Hackuarium is present on the layer 200 and 201 in eagle. You may try
to move it by hidding all the other layers.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="cam-processing"></a>CAM processing<a class="hash-link" href="#cam-processing" title="Direct link to heading">#</a></h2><p>Before submitting the PCB for manufacturing like for <a href="https://www.pcbway.com" target="_blank" rel="noopener noreferrer">https://www.pcbway.com</a> you need to
generate the Gerber files.</p><p>The CAM processor for eagle starting 8.6 is present in this folder. They changed
completely the format but what is cool is that you can now directly export the ZIP file.
You may remove from the silk layer 200 or 201 if the logo of hackuarium really does not
fit.
Don&#x27;t forget to test the generated gerber by uploading it on <a href="https://gerber-viewer.easyeda.com/" target="_blank" rel="noopener noreferrer">https://gerber-viewer.easyeda.com/</a></p><header><h1>ATmega328 pin map</h1></header><table><thead><tr><th>Pin</th><th>Map to</th><th>Function</th><th>Remarks</th></tr></thead><tbody><tr><td>D0</td><td>PD0(RXD)</td><td>RX</td><td></td></tr><tr><td>D1</td><td>PD1(TXD)</td><td>TX</td><td></td></tr><tr><td>D2</td><td>PD2(INT0)</td><td></td><td>Interrupt allows wake up</td></tr><tr><td>D3</td><td>PD3(INT1)</td><td></td><td>Interrupt allows wake up</td></tr><tr><td>D4</td><td>PD4(XCK/T0)</td><td></td><td></td></tr><tr><td>D5</td><td>PD5(T1)</td><td></td><td>Counter</td></tr><tr><td>D6</td><td>PD6(AIN0)</td><td></td><td></td></tr><tr><td>D7</td><td>PD7(AIN1)</td><td></td><td></td></tr><tr><td>D8</td><td>PB0(ICP)</td><td></td><td></td></tr><tr><td>D9</td><td>PB1(OC1A)</td><td></td><td>PWM</td></tr><tr><td>D10</td><td>PB2(SS/OC1B)</td><td></td><td>PWM</td></tr><tr><td>D11</td><td>PB3(MOSI/OC2)</td><td>MOSI</td><td></td></tr><tr><td>D12</td><td>PB4(MISO)</td><td>MISO</td><td></td></tr><tr><td>D13</td><td>PB5(SCK)</td><td>SCK</td><td></td></tr><tr><td>D14 A0</td><td>PC0(ADC0)</td><td></td><td>ADC</td></tr><tr><td>D15 A1</td><td>PC1(ADC1)</td><td></td><td>ADC</td></tr><tr><td>D16 A2</td><td>PC2/ADC2)</td><td></td><td>ADC</td></tr><tr><td>D17 A3</td><td>PC3(ADC3)</td><td></td><td>ADC</td></tr><tr><td>D18 A4</td><td>PC4(ADC4/SDA)</td><td>SDA</td><td></td></tr><tr><td>D19 A5</td><td>PC5(ADC5/SCL)</td><td>SCL</td><td></td></tr><tr><td>D20 A6</td><td>ADC6</td><td></td><td>ADC only input</td></tr><tr><td>D21 A7</td><td>ADC7</td><td></td><td>ADC only input</td></tr></tbody></table><p>Remarks</p><ul><li>RX, TX used for serial communication over USB (debug)</li><li>SDA, SCL: I2C communication with master</li><li>MOSI, MISO, SCK: boot loader</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hackuarium/docs.hackuarium.org/edit/main/docs/15_beemos/slaves.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/beemos/bee-counter/rj12-hacking/rj12-hacking"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Connector for luminosity, temperature and power supply</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/bioreactor"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Goal of the project Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#power-consumption" class="table-of-contents__link">Power consumption</a></li><li><a href="#debugging" class="table-of-contents__link">Debugging</a></li><li><a href="#logo" class="table-of-contents__link">Logo</a></li><li><a href="#cam-processing" class="table-of-contents__link">CAM processing</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Hackuarium contributors. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.62db4082.js"></script>
<script src="/assets/js/main.ee91ec1a.js"></script>
</body>
</html>