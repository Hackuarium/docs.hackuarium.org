<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Hackuarium open-hardware documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Hackuarium open-hardware documentation Blog Atom Feed"><title data-react-helmet="true">Installation | Hackuarium open-hardware documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.hackuarium.org/docs/phmeter/platformio/platformio"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Installation | Hackuarium open-hardware documentation"><meta data-react-helmet="true" name="description" content="Cloning the project"><meta data-react-helmet="true" property="og:description" content="Cloning the project"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.hackuarium.org/docs/phmeter/platformio/platformio"><link data-react-helmet="true" rel="alternate" href="https://docs.hackuarium.org/docs/phmeter/platformio/platformio" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.hackuarium.org/docs/phmeter/platformio/platformio" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d6449401.css">
<link rel="preload" href="/assets/js/runtime~main.7bf8ae94.js" as="script">
<link rel="preload" href="/assets/js/main.692c1871.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Hackuarium logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Hackuarium logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Hackuarium</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_MM2z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_s5VG searchBarLoadingRing_2jQk"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/intro">Hackuarium documentation</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Simple-Spectro</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Beemos</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Bioreactor</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Incubator</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">pH Meter</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/phmeter">Introduction</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Platformio</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/phmeter/platformio/platformio">Installation</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/phmeter/platformio/parameters">Parameters</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Making</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Using</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Writing documentation</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Programming</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">threadino</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Installation</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="cloning-the-project"></a>Cloning the project<a class="hash-link" href="#cloning-the-project" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="requirements"></a>Requirements<a class="hash-link" href="#requirements" title="Direct link to heading">#</a></h3><ol><li>Git (^2.25.1)</li><li>Visual Studio Code (^1.61.2)</li></ol><p>You know with age we take some habits and it would be easier if you follow the same ones...</p><p>All our github projects are always in a folder called <code>git</code>
which is at the first level of the <code>home</code> directory. It is followed by the
name of the github user/organization and finally the project name.</p><p>So, go to the project from bash:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> ~/git/hackuarium/phmeter</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The possibility to clone the project will require that you validate your public key
in github!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="installing-the-platformio-plugin"></a>Installing the PlatformIO plugin<a class="hash-link" href="#installing-the-platformio-plugin" title="Direct link to heading">#</a></h2><p>In VSCode you need to open <code>Extensions</code> tab or press <code>(CTRL+Shift+X)</code>, and search Â´PlatformIO IDEÂ´ to install it:</p><p><img alt="PlatformIO IDE" src="/assets/images/platformio-5aeb75216f723a042fde6f4b6cd43094.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="hardware-support-for-leonardo-8mhz--lilypad-arduino-usb"></a>Hardware support for Leonardo 8MHz = LilyPad Arduino USB<a class="hash-link" href="#hardware-support-for-leonardo-8mhz--lilypad-arduino-usb" title="Direct link to heading">#</a></h2><p>The pHMeter is operating at 8MHz/3V3 instead of the standard 16MHz/5V.</p><p>If you do any mistake and try flashing the pHMeter board as if it was a normal Leonardo, you will be able to flash the program but the USB port will not be recognized anymore afterwards. You will have to reflash the bootloader!!!</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>In case that you need to burn the firmware for the pHMeter from factory, you must to use the Lilypad Arduino USB bootloader like first step before upload the code. (Go to <a href="#burning-bootloader">Burning bootloader</a> section for solve it).</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="using-usbtiny"></a>Using USBtiny<a class="hash-link" href="#using-usbtiny" title="Direct link to heading">#</a></h2><p>By default some Linux versions will only give you a USB readonly access and will prevent you from burning the bootloader.</p><p>In order for the USBTiny to have r/w access you should add a USB rule:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># UDEV rule for Arduino ISP R3 programmer board,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># to prevent having to run Arduino IDE as root to get it to program.</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Copy this file to /etc/udev/rules.d so</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">SUBSYSTEMS</span><span class="token operator" style="color:#393A34">==</span><span class="token string" style="color:#e3116c">&quot;usb&quot;</span><span class="token plain">, ATTRS</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">idVendor</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">==</span><span class="token string" style="color:#e3116c">&quot;1781&quot;</span><span class="token plain">, ATTRS</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">idProduct</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">==</span><span class="token string" style="color:#e3116c">&quot;0c9f&quot;</span><span class="token plain">, </span><span class="token assign-left variable" style="color:#36acaa">GROUP</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;plugdev&quot;</span><span class="token plain">, </span><span class="token assign-left variable" style="color:#36acaa">MODE</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;0666&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="thats-it"></a>That&#x27;s it<a class="hash-link" href="#thats-it" title="Direct link to heading">#</a></h2><p>You should now be able to compile the project from PlatformIO IDE.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="burning-bootloader"></a>Burning bootloader<a class="hash-link" href="#burning-bootloader" title="Direct link to heading">#</a></h3><p>You can now proceed with burning the bootloader using the <code>program_via_USBtinyISP</code> environment created in <code>platformio.ini</code> file. Go to <code>platformIO Terminal</code> and type:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$: pio run -e program_via_USBtinyISP --target bootloader</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="PlatformIO: New Terminal" src="/assets/images/terminal-825da6e832df51eff130b4bdf9017976.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="upload-the-code"></a>Upload the code<a class="hash-link" href="#upload-the-code" title="Direct link to heading">#</a></h3><p>Once you have the bootloader, you can upload your code with <code>PlatformIO: Upload</code> button or press <kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>U</kbd>:</p><p><img alt="Upload option" src="/assets/images/upload-b377666afcae228db0186a26c3957976.png"></p><p>You can check upload success in the same terminal:</p><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</h5></div><div class="admonition-content"><p>Â¡UPDATE!</p></div></div><p><img alt="Upload success" src="/assets/images/upload-success-2442a1697a2b84db3b25f375c3d4fc13.png"></p><header><h1>The parameters</h1></header><p>In order to control the bioreactor you should have a look at the description of the <a href="/docs/phmeter/platformio/parameters">Parameters</a> (Go Next).</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hackuarium/docs.hackuarium.org/edit/main/docs/40_phmeter/10_platformio/10_platformio.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/phmeter"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Introduction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/phmeter/platformio/parameters"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Parameters Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cloning-the-project" class="table-of-contents__link">Cloning the project</a><ul><li><a href="#requirements" class="table-of-contents__link">Requirements</a></li></ul></li><li><a href="#installing-the-platformio-plugin" class="table-of-contents__link">Installing the PlatformIO plugin</a></li><li><a href="#hardware-support-for-leonardo-8mhz--lilypad-arduino-usb" class="table-of-contents__link">Hardware support for Leonardo 8MHz = LilyPad Arduino USB</a></li><li><a href="#using-usbtiny" class="table-of-contents__link">Using USBtiny</a></li><li><a href="#thats-it" class="table-of-contents__link">That&#39;s it</a><ul><li><a href="#burning-bootloader" class="table-of-contents__link">Burning bootloader</a></li><li><a href="#upload-the-code" class="table-of-contents__link">Upload the code</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Hackuarium contributors. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.7bf8ae94.js"></script>
<script src="/assets/js/main.692c1871.js"></script>
</body>
</html>